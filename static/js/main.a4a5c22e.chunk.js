(this["webpackJsonpbodymass-fronted"]=this["webpackJsonpbodymass-fronted"]||[]).push([[0],{21:function(e,t,a){e.exports=a(48)},26:function(e,t,a){},27:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),l=a.n(r),s=(a(26),a(2)),c=a(3),o=a(5),u=a(4),p=a(6),m=(a(27),a(28),a(20)),h=a.n(m),d=function(e){var t=e.children;return i.a.createElement("nav",null,i.a.createElement("div",null,i.a.createElement("a",{href:"/",className:"brand-logo"},"Body Mass Index"),i.a.createElement("ul",{className:"right hide-on-med-and-down"},t)))},v=function(e){var t=e.text,a=e.openModal;e.target;return i.a.createElement("li",null,i.a.createElement("a",{className:"waves-effect waves-light btn",href:"#modal",onClick:a},t))},f=a(1),g=a.n(f),b=a(8),E={display:"block"},w={display:"none"},y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={open:a.props.open},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateOpen",value:function(){this.setState({open:this.props.open})}},{key:"componentDidMount",value:function(){this.updateOpen()}},{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.updateOpen()}},{key:"render",value:function(){return i.a.createElement("div",{className:"modal",style:this.state.open?E:w},i.a.createElement("div",{className:"modal-content"},i.a.createElement("h4",null,this.props.title),this.props.children))}}]),t}(n.Component),O=function(e){var t=e.children;return i.a.createElement("div",{className:"row"},i.a.createElement("form",{className:"col s12"},i.a.createElement("div",{className:"row"},t)))},k=a(9),S=a.n(k);function j(e){return"".concat("https://bodymass-challange.herokuapp.com","/").concat(e)}function N(){return{headers:{Authorization:localStorage.getItem("token")||""}}}function x(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post(j("authenticate"),t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function I(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post(j("users"),t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function C(){return(C=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get(j("users"),N());case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get(j("users/".concat(t,"/category")),N());case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function B(e,t){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.put(j("users/".concat(t)),a,N());case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleEmail=function(e){var t=e.target;a.setState({email:t.value})},a.handlePassword=function(e){var t=e.target;a.setState({password:t.value})},a.handleSubmit=function(){var e=Object(b.a)(g.a.mark((function e(t){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x(a.getData());case 4:n=e.sent,i=n.data,localStorage.setItem("token",i.token),window.location.reload(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={open:a.props.open,email:"",password:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateOpen",value:function(){this.setState({open:this.props.open})}},{key:"componentDidMount",value:function(){this.updateOpen()}},{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.updateOpen()}},{key:"getData",value:function(){return{email:this.state.email,password:this.state.password}}},{key:"render",value:function(){return i.a.createElement(y,{title:"Sign In",open:this.state.open},i.a.createElement(O,null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"email",className:"validate",id:"emailIn",value:this.state.mail,onChange:this.handleEmail.bind(this)}),i.a.createElement("label",{htmlFor:"emailIn"},"Email")),i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"password",className:"validate",id:"passwordIn",value:this.state.password,onChange:this.handlePassword.bind(this)}),i.a.createElement("label",{htmlFor:"passwordIn"},"Password")),i.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"singin",onClick:this.handleSubmit.bind(this)},"Sign In",i.a.createElement("i",{className:"material-icons right"},"send"))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleEmail=function(e){var t=e.target;a.setState({email:t.value})},a.handlePassword=function(e){var t=e.target;a.setState({password:t.value})},a.handleSubmit=function(){var e=Object(b.a)(g.a.mark((function e(t){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I(a.getData());case 4:n=e.sent,i=n.data,console.log(i),window.location.reload(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={open:a.props.open,email:"",password:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateOpen",value:function(){this.setState({open:this.props.open})}},{key:"componentDidMount",value:function(){this.updateOpen()}},{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.updateOpen()}},{key:"getData",value:function(){return{email:this.state.email,password:this.state.password}}},{key:"render",value:function(){return i.a.createElement(y,{title:"Sign Up",open:this.state.open},i.a.createElement(O,null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"email",className:"validate",id:"emailUp",value:this.state.mail,onChange:this.handleEmail.bind(this)}),i.a.createElement("label",{htmlFor:"emailUp"},"Email")),i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"password",className:"validate",id:"passwordUp",value:this.state.password,onChange:this.handlePassword.bind(this)}),i.a.createElement("label",{htmlFor:"passwordUp"},"Password")),i.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"singUp",onClick:this.handleSubmit.bind(this)},"Sign Up",i.a.createElement("i",{className:"material-icons right"},"send"))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={modalSignIn:!1,modalSignUp:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"openModalSignIn",value:function(){this.setState({modalSignIn:!this.state.modalSignIn,modalSignOut:!1})}},{key:"openModalSignUp",value:function(){this.setState({modalSignUp:!this.state.modalSignUp,modalSignOut:!1})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(d,null,i.a.createElement(v,{text:"Sign In",openModal:this.openModalSignIn.bind(this)}),i.a.createElement(v,{text:"Sign Up",openModal:this.openModalSignUp.bind(this)})),i.a.createElement("div",{className:"center-align"},i.a.createElement("h1",null,"Body Mass Index"),i.a.createElement("p",null,"Enter to your account to uses the calculator")),i.a.createElement(W,{open:this.state.modalSignIn}),i.a.createElement(H,{open:this.state.modalSignUp}))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),localStorage.removeItem("token"),window.location.reload(!1)},a.state={open:a.props.open},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateOpen",value:function(){this.setState({open:this.props.open})}},{key:"componentDidMount",value:function(){this.updateOpen()}},{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.updateOpen()}},{key:"render",value:function(){return i.a.createElement(y,{title:"Sign Out",open:this.state.open},i.a.createElement(O,null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("button",{id:"exitApp",className:"btn waves-effect waves-light",type:"submit",name:"singOut",onClick:this.handleSubmit.bind(this)},"OK",i.a.createElement("i",{className:"material-icons right"},"send")))))}}]),t}(n.Component),K=function(e){return i.a.createElement(O,null,i.a.createElement("div",{className:"input-field col s12"},i.a.createElement("input",{id:"emailUser",type:"text",value:e.email,disabled:!0}),i.a.createElement("label",{className:"active",htmlFor:"emailUser"},"User")),i.a.createElement("div",{className:"input-field col s12"},i.a.createElement("input",{id:"weightUser",type:"text",value:e.weight||"0.0",disabled:!0}),i.a.createElement("label",{className:"active",htmlFor:"weightUser"},"Weight")),i.a.createElement("div",{className:"input-field col s12"},i.a.createElement("input",{id:"heightUser",type:"text",value:e.height||"0.0",disabled:!0}),i.a.createElement("label",{className:"active",htmlFor:"heightUser"},"Height")),i.a.createElement("div",{className:"input-field col s12"},i.a.createElement("input",{id:"bmiUser",type:"text",value:e.bmi||"0.0",disabled:!0}),i.a.createElement("label",{className:"active",htmlFor:"bmiUser"},"Body Mass Index")))},T=function(e){var t=e.name;return i.a.createElement("h4",null,t)},z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleWeight=function(e){var t=e.target;a.setState({weight:t.value})},a.handleHeight=function(e){var t=e.target;a.setState({height:t.value})},a.handleSubmit=function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,B(a.state.id,a.getData());case 4:n=e.sent,r=n.data,l=i.a.createElement(K,{email:r.email,weight:r.weight,height:r.height,bmi:r.bmi}),a.setState({info:l}),D(a.state.id).then((function(e){var t=e.data,n=t?t.name:"No category",r=i.a.createElement(T,{name:n});a.setState({category:r})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),a.state={weight:0,height:0,info:null,category:null,id:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){return C.apply(this,arguments)})().then((function(t){var a=t.data,n=i.a.createElement(K,{email:a.email,weight:a.weight,height:a.height,bmi:a.bmi});e.setState({info:n,id:a.id}),D(a.id).then((function(t){var a=t.data,n=a?a.name:"No category",r=i.a.createElement(T,{name:n});e.setState({category:r})}))}))}},{key:"getData",value:function(){return{weight:this.state.weight,height:this.state.height}}},{key:"render",value:function(){return i.a.createElement("div",{className:""},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6"},i.a.createElement(O,null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"number",className:"validate",id:"weight",value:this.state.weight,onChange:this.handleWeight.bind(this)}),i.a.createElement("label",{htmlFor:"weight"},"Weight (KG)")),i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("input",{type:"number",className:"validate",id:"height",value:this.state.height,onChange:this.handleHeight.bind(this)}),i.a.createElement("label",{htmlFor:"height"},"Height (Mts)")),i.a.createElement("button",{className:"btn-large waves-effect waves-light",type:"submit",name:"calculate",onClick:this.handleSubmit.bind(this)},"Calculate")),this.state.category),i.a.createElement("div",{className:"col s6"},this.state.info)))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={modalSignOut:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"openModalSignOut",value:function(){this.setState({modalSignOut:!this.state.modalSignOut})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(d,null,i.a.createElement(v,{text:"Sign Out",openModal:this.openModalSignOut.bind(this)})),i.a.createElement("div",{className:"center-align"},i.a.createElement("h1",null,"Body Mass Index")),i.a.createElement(J,{open:this.state.modalSignOut}),i.a.createElement("div",{className:"container"},i.a.createElement(z,null)))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={logged:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){h.a.AutoInit(),this.checkToken()}},{key:"checkToken",value:function(){localStorage.getItem("token")&&this.setState({logged:!0})}},{key:"render",value:function(){return this.state.logged?i.a.createElement(G,null):i.a.createElement(A,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.a4a5c22e.chunk.js.map